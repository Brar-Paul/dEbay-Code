{"version":3,"sources":["components/market.png","components/Navbar.js","components/Home.js","components/Create.js","components/MyListedItems.js","components/MyPurchases.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Navigation","web3Handler","account","Navbar","expand","bg","variant","Container","Brand","href","src","market","width","height","className","alt","Toggle","aria-controls","Collapse","id","Nav","Link","as","to","target","rel","Button","slice","onClick","Web3","require","moment","Home","marketplace","useState","loading","setLoading","listings","setListings","bid","setBid","signer","setSigner","loadMarketplaceListings","a","listingCount","toNumber","i","listing","auctionState","eq","fetch","nft","nftResponse","json","nftMetadata","nftAbi","result","provider","ethers","providers","Web3Provider","window","ethereum","getSigner","Contract","tokenURI","tokenId","uri","replace","response","metadata","currentPrice","image","convertedTime","unix","closingTime","toString","push","price","listingId","seller","name","description","time","bidOnListing","bidPrice","weth","ABI","adjustedPrice","utils","toWei","wait","approve","address","useEffect","style","padding","length","Row","xs","md","lg","map","idx","Col","key","Card","Img","Body","color","Title","Text","Date","now","fromNow","Footer","Form","Control","onChange","e","value","size","required","type","placeholder","Create","reserve","setReserve","setName","setDescription","startPrice","setStartPrice","closing","setClosing","setNft","setTokenId","createListing","nftInstance","setApprovalForAll","role","maxWidth","MyListings","soldListings","setSoldListings","endAuction","loadMyListings","cancelAuction","cancelListing","allListings","indx","toLowerCase","reservePrice","renderSoldListings","MyBids","bids","setBids","loadBids","buyer","App","setAccount","setMarketplace","request","method","accounts","on","chainId","location","reload","loadContracts","ChainId","abi","Marketplace","marketplaceAddress","networkMapping","marketplaceInterface","Interface","display","justifyContent","alignItems","minHeight","Spinner","animation","path","element","Boolean","hostname","match","rootElement","document","getElementById","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.d420076f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import {\n    Link\n} from \"react-router-dom\";\nimport { Navbar, Nav, Button, Container } from 'react-bootstrap'\nimport market from './market.png'\nimport React from 'react'\n\nconst Navigation = ({ web3Handler, account }) => {\n    return (\n        <Navbar expand=\"lg\" bg=\"secondary\" variant=\"dark\">\n            <Container>\n                <Navbar.Brand href=\"\">\n                    <img src={market} width=\"40\" height=\"40\" className=\"\" alt=\"\" />\n                    &nbsp; dEbay\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                    <Nav className=\"me-auto\">\n                        <Nav.Link as={Link} to=\"/\">Home</Nav.Link>\n                        <Nav.Link as={Link} to=\"/create\">Create</Nav.Link>\n                        <Nav.Link as={Link} to=\"/my-listed-items\">My Listed Items</Nav.Link>\n                        <Nav.Link as={Link} to=\"/my-purchases\">My Bids</Nav.Link>\n                    </Nav>\n                    <Nav>\n                        {account ? (\n                            <Nav.Link\n                                href={`https://etherscan.io/address/${account}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"button nav-button btn-sm mx-4\">\n                                <Button variant=\"outline-light\">\n                                    {account.slice(0, 5) + '...' + account.slice(38, 42)}\n                                </Button>\n\n                            </Nav.Link>\n                        ) : (\n                            <Button onClick={web3Handler} variant=\"outline-light\">Connect Wallet</Button>\n                        )}\n                    </Nav>\n                </Navbar.Collapse>\n            </Container>\n        </Navbar>\n    )\n\n}\n\nexport default Navigation;","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { ethers } from \"ethers\"\nimport { Row, Col, Card, Button, Form } from 'react-bootstrap'\nimport { Contract } from '@ethersproject/contracts'\nimport ABI from \"../WETH/ABI.json\"\n\nconst Web3 = require(\"web3\")\nconst moment = require('moment')\n\nconst Home = ({ marketplace }) => {\n    const [loading, setLoading] = useState(true)\n    const [listings, setListings] = useState([])\n    const [bid, setBid] = useState(null)\n    const [signer, setSigner] = useState()\n    const loadMarketplaceListings = async () => {\n        // Load all active listings \n        let listingCount = await marketplace.listingCount()\n        listingCount = listingCount.toNumber()\n        let listings = []\n        for (let i = 1; i <= listingCount; i++) {\n            const listing = await marketplace.listings(i)\n            if (listing.auctionState.eq(1)) {\n                const nftResponse = await fetch(`https://api-rinkeby.etherscan.io/api?module=contract&action=getabi&address=${listing.nft}&apikey=DCV4PCHFIVVYWR83CS48C4J45C9IH8SV93`)\n\n                const nftMetadata = await nftResponse.json()\n                const nftAbi = nftMetadata.result\n\n                // Get provider from Metamask\n                const provider = new ethers.providers.Web3Provider(window.ethereum)\n                // Set signer\n                const signer = provider.getSigner()\n                setSigner(signer)\n                const nft = new Contract(listing.nft, nftAbi, signer)\n                // get uri url from nft contract\n                let uri = await nft.tokenURI(listing.tokenId)\n                uri = uri.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n                // use uri to fetch the nft metadata stored on ipfs \n\n                const response = await fetch(uri)\n\n                const metadata = await response.json()\n                // get current price of listing\n                let currentPrice = listing.currentPrice\n                currentPrice = (currentPrice / (10 ** 16)) / 100\n                let image = metadata.image\n                image = image.replace('ipfs://', 'https://ipfs.io/ipfs/')\n                // Convert time \n                let convertedTime = moment.unix(listing.closingTime)\n                convertedTime = convertedTime.toString()\n                // push to array\n                listings.push({\n                    price: currentPrice,\n                    listingId: listing.listingId,\n                    seller: listing.seller,\n                    name: metadata.name,\n                    description: metadata.description,\n                    image: image,\n                    time: convertedTime\n                })\n            }\n        }\n        setLoading(false)\n        setListings(listings)\n    }\n\n\n\n    const bidOnListing = async (listing, bidPrice) => {\n        const wethAddress = '0xc778417E063141139Fce010982780140Aa0cD5Ab'\n        const weth = new ethers.Contract(wethAddress, ABI, signer)\n        let adjustedPrice = bidPrice / 100\n        adjustedPrice = adjustedPrice.toString()\n        adjustedPrice = Web3.utils.toWei(adjustedPrice, \"ether\")\n        await (await marketplace.bid(listing.listingId, bidPrice)).wait()\n        await (await weth.approve(marketplace.address, adjustedPrice)).wait()\n        loadMarketplaceListings()\n    }\n\n    useEffect(() => {\n        loadMarketplaceListings()\n    }, [])\n\n\n    if (loading) return (\n        <main style={{ padding: \"1rem 0\" }}>\n            <h2>Loading...</h2>\n        </main>\n    )\n    return (\n        <div className=\"flex justify-center\">\n            {listings.length > 0 ?\n                <div className=\"px-5 container\">\n                    <Row xs={1} md={2} lg={4} className=\"g-4 py-5\">\n                        {listings.map((listing, idx) => (\n                            <Col key={idx} className=\"overflow-hidden\">\n                                <Card>\n                                    <Card.Img variant=\"top\" src={listing.image} />\n                                    <Card.Body color=\"secondary\">\n                                        <Card.Title>{listing.price} ETH</Card.Title>\n                                        <Card.Text>\n                                            {listing.name}\n                                        </Card.Text>\n                                        <Card.Text>{listing.description}</Card.Text>\n                                        {Date.now() > listing.time &&\n                                            <Card.Text>Time Remaining: {moment(listing.time).fromNow()}</Card.Text>\n                                        }\n                                    </Card.Body>\n                                    {Date.now() > listing.time ?\n                                        <Card.Footer>\n                                            <div className='d-grid'>\n                                                <Form.Control onChange={(e) => setBid(e.target.value)} size=\"lg\" required type=\"number\" placeholder=\"Price in 1/100 ETH\" />\n                                                <Form.Text className='text-muted'>Price in 1/100 ETH, e.g. input 2 to bid 0.02 ETH</Form.Text>\n                                                <Button onClick={() => bidOnListing(listing, bid)} variant=\"primary\" size=\"lg\">\n                                                    Bid Now!\n                                                </Button>\n                                            </div>\n                                        </Card.Footer> :\n\n                                        <Card.Footer>\n                                            <Card.Text>Listing Ended</Card.Text>\n                                        </Card.Footer>\n\n                                    }\n\n                                </Card>\n                            </Col>\n                        ))}\n                    </Row>\n                </div>\n                : (\n                    <main style={{ padding: \"1rem 0\" }}>\n                        <h2>No Open Auctions</h2>\n                    </main>\n                )}\n        </div>\n    );\n}\n\nexport default Home\n\n","import React from 'react'\nimport { useState } from 'react'\nimport { ethers } from \"ethers\"\nimport { Row, Form, Button } from 'react-bootstrap'\nimport { Contract } from '@ethersproject/contracts'\n\n\nconst Create = ({ marketplace }) => {\n    const [reserve, setReserve] = useState(null)\n    const [name, setName] = useState('')\n    const [description, setDescription] = useState('')\n    const [startPrice, setStartPrice] = useState(0)\n    const [closing, setClosing] = useState(1)\n    const [nft, setNft] = useState('')\n    const [tokenId, setTokenId] = useState(0)\n\n    const createListing = async () => {\n        if (!name || !description || !reserve || !tokenId) return\n        // Add listing to marketplace\n        const response = await fetch(`https://api-rinkeby.etherscan.io/api?module=contract&action=getabi&address=${nft}&apikey=DCV4PCHFIVVYWR83CS48C4J45C9IH8SV93`)\n        const metadata = await response.json()\n        const nftAbi = metadata.result\n        // Get provider from Metamask\n        const provider = new ethers.providers.Web3Provider(window.ethereum)\n        // Set signer\n        const signer = provider.getSigner()\n        const nftInstance = new Contract(nft, nftAbi, signer)\n        await (await nftInstance.setApprovalForAll(marketplace.address, true)).wait()\n        await (await marketplace.createListing(reserve, startPrice, closing, tokenId, nft)).wait()\n    }\n\n    return (\n        <div className=\"container-fluid mt-5\">\n            <div className=\"row\">\n                <main role=\"main\" className=\"col-lg-12 mx-auto\" style={{ maxWidth: '1000px' }}>\n                    <div className=\"content mx-auto\">\n                        <h1 className='text-center my-2' > Create an Auction Listing</h1>\n                        <Row className=\"g-4\">\n                            <Form.Control onChange={(e) => setName(e.target.value)} size=\"lg\" required type=\"text\" placeholder=\"Name\" />\n                            <Form.Control onChange={(e) => setNft(e.target.value)} size=\"lg\" required type=\"text\" placeholder=\"NFT Contract\" />\n                            <Form.Control onChange={(e) => setTokenId(e.target.value)} size=\"lg\" required type=\"number\" placeholder=\"NFT Token ID\" />\n                            <Form.Control onChange={(e) => setDescription(e.target.value)} size=\"lg\" required as=\"textarea\" placeholder=\"Description\" />\n                            <Form.Control onChange={(e) => setReserve(e.target.value)} size=\"lg\" required type=\"number\" placeholder=\"Reserve price in 1/100 ETH\" />\n                            <Form.Control onChange={(e) => setStartPrice(e.target.value)} size=\"lg\" required type=\"number\" placeholder=\"Starting price in 1/100 ETH\" />\n                            <Form.Control onChange={(e) => setClosing(e.target.value)} size=\"lg\" required type=\"number\" placeholder=\"Auction Length in Days\" />\n                            <div className=\"d-grid px-0\">\n                                <Button onClick={createListing} variant=\"primary\" size=\"lg\">\n                                    List your item for auction!\n                                </Button>\n                            </div>\n                        </Row>\n                    </div>\n                </main>\n            </div>\n        </div>\n    );\n}\n\nexport default Create\n","import { useState, useEffect } from 'react'\nimport { ethers } from \"ethers\"\nimport { Row, Col, Card, Button } from 'react-bootstrap'\nimport React from 'react'\nimport { Contract } from '@ethersproject/contracts'\n\nconst moment = require('moment')\n\n\nfunction renderSoldListings(listings) {\n    return (\n        <>\n            <h2>Sold NFTs</h2>\n            <Row xs={1} md={2} lg={4} className=\"g-4 py-3\">\n                {listings.map((listing, idx) => (\n                    <Col key={idx} className=\"overflow-hidden\">\n                        <Card>\n                            <Card.Img variant=\"top\" src={listing.image} />\n                            <Card.Text>For {listing.price} ETH</Card.Text>\n                            <Card.Footer>\n                                <Card.Text>Closed on: {listing.time}</Card.Text>\n                            </Card.Footer>\n                        </Card>\n                    </Col>\n                ))}\n            </Row>\n        </>\n    )\n}\n\nexport default function MyListings({ marketplace, account }) {\n    const [loading, setLoading] = useState(true)\n    const [listings, setListings] = useState([])\n    const [soldListings, setSoldListings] = useState([])\n\n    const endAuction = async (listing) => {\n        await (await marketplace.endAuction(listing.listingId)).wait()\n        loadMyListings()\n    }\n\n    const cancelAuction = async (listing) => {\n        await (await marketplace.cancelListing(listing.listingId)).wait()\n        loadMyListings()\n    }\n\n    const loadMyListings = async () => {\n        // Load all sold items that the user listed\n        let listingCount = await marketplace.listingCount()\n        listingCount = listingCount.toNumber()\n        let allListings = []\n        let soldListings = []\n        for (let indx = 1; indx <= listingCount; indx++) {\n            const i = await marketplace.listings(indx)\n            if (i.seller.toLowerCase() === account) {\n                // instantiate NFT contract of listing\n                const nftResponse = await fetch(`https://api-rinkeby.etherscan.io/api?module=contract&action=getabi&address=${i.nft}&apikey=DCV4PCHFIVVYWR83CS48C4J45C9IH8SV93`)\n                const nftMetadata = await nftResponse.json()\n                const nftAbi = nftMetadata.result\n                // Get provider from Metamask\n                const provider = new ethers.providers.Web3Provider(window.ethereum)\n                // Set signer\n                const signer = provider.getSigner()\n                const nft = new Contract(i.nft, nftAbi, signer)\n                // get uri url from nft contract\n                let uri = await nft.tokenURI(i.tokenId)\n                uri = uri.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n                // use uri to fetch the nft metadata stored on ipfs \n                const response = await fetch(uri)\n                const metadata = await response.json()\n                // format price and image \n                let currentPrice = i.currentPrice\n                currentPrice = (currentPrice / (10 ** 16)) / 100\n                let reservePrice = i.reservePrice\n                reservePrice = (reservePrice / (10 ** 16)) / 100\n                let image = metadata.image\n                image = image.replace('ipfs://', 'https://ipfs.io/ipfs/')\n                // Get Listing time and convert\n                let convertedTime = moment.unix(i.closingTime)\n                convertedTime = convertedTime.toString()\n                // Convert AuctionState to Int\n                let auctionState = i.auctionState\n                auctionState = auctionState.toNumber()\n                // define listed item object\n                let listing = {\n                    price: currentPrice,\n                    listingId: i.listingId,\n                    name: metadata.name,\n                    description: metadata.description,\n                    image: image,\n                    auctionState: auctionState,\n                    time: convertedTime,\n                    reserve: reservePrice\n                }\n                allListings.push(listing)\n                // Add listed item to sold items array if sold\n                if (auctionState === 2) soldListings.push(listing)\n            }\n        }\n        setLoading(false)\n        setListings(allListings)\n        setSoldListings(soldListings)\n    }\n    useEffect(() => {\n        loadMyListings()\n    }, [])\n    if (loading) return (\n        <main style={{ padding: \"1rem 0\" }}>\n            <h2>Loading...</h2>\n        </main>\n    )\n    return (\n        <div className=\"flex justify-center\">\n            {listings.length > 0 ?\n                <div className=\"px-5 py-3 container\">\n                    <h2>Your Listed NFTs</h2>\n                    <Row xs={1} md={2} lg={4} className=\"g-4 py-3\">\n                        {listings.map((listing, idx) => (\n                            <Col key={idx} className=\"overflow-hidden\">\n                                {Date.now() > listing.time ?\n                                    <Card>\n                                        <Card.Img variant=\"top\" src={listing.image} />\n                                        <Card.Footer>\n                                            <Card.Text>Auction Running</Card.Text>\n                                            <Card.Text>Current Price: {listing.price} wETH</Card.Text>\n                                            <Card.Text>Time Remaining: {moment(listing.time).fromNow()}</Card.Text>\n                                            <Button onClick={() => cancelAuction(listing)} variant=\"warning\" size=\"sm\" className='m-2'>\n                                                Cancel Auction and Return NFT\n                                            </Button>\n                                        </Card.Footer>\n                                    </Card>\n                                    : listing.auctionState === 1 ?\n                                        <Card>\n                                            <Card.Img variant=\"top\" src={listing.image} />\n                                            <Card.Footer>\n                                                <Card.Text>Auction Time Elapsed</Card.Text>\n                                                <Card.Text>Final Price: {listing.price} wETH</Card.Text>\n                                                {listing.price >= listing.reserve &&\n                                                    <Button onClick={() => endAuction(listing)} variant=\"success\" size=\"sm\" className='m-2'>\n                                                        Finalize and Collect Payment\n                                                    </Button>\n                                                }\n                                                <Button onClick={() => cancelAuction(listing)} variant=\"warning\" size=\"sm\" className='m-2'>\n                                                    Cancel Auction and Return NFT\n                                                </Button>\n                                            </Card.Footer>\n                                        </Card>\n                                        : listing.auctionState === 3 ?\n                                            <Card>\n                                                <Card.Img variant=\"top\" src={listing.image} />\n                                                <Card.Footer>\n                                                    <Card.Text>Auction Reverted</Card.Text>\n                                                    <Card.Text>Final Price: {listing.price} wETH</Card.Text>\n                                                    <Button onClick={() => cancelAuction(listing)} variant=\"warning\" size=\"sm\" className='m-2'>\n                                                        Cancel Auction and Return NFT\n                                                    </Button>\n                                                </Card.Footer>\n                                            </Card>\n                                            :\n                                            <Card>\n                                                <Card.Img variant=\"top\" src={listing.image} />\n                                                <Card.Footer>\n                                                    <Card.Text>Auction Finalized</Card.Text>\n                                                    <Card.Text>Final Price: {listing.price} wETH</Card.Text>\n                                                </Card.Footer>\n                                            </Card>\n                                }\n                            </Col>\n                        ))}\n                    </Row>\n                    {soldListings.length > 0 && renderSoldListings(soldListings)}\n                </div>\n                : (\n                    <main style={{ padding: \"1rem 0\" }}>\n                        <h2>No listed assets</h2>\n                    </main>\n                )}\n        </div>\n    );\n}\n\n","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { ethers } from \"ethers\"\nimport { Row, Col, Card } from 'react-bootstrap'\nimport { Contract } from '@ethersproject/contracts'\n\nconst moment = require('moment')\n\nexport default function MyBids({ marketplace, account }) {\n    const [loading, setLoading] = useState(true)\n    const [bids, setBids] = useState([])\n    const loadBids = async () => {\n        let listingCount = await marketplace.listingCount()\n        listingCount = listingCount.toNumber()\n        let bids = []\n        for (let indx = 1; indx <= listingCount; indx++) {\n            const i = await marketplace.listings(indx)\n            if (i.buyer.toLowerCase() === account) {\n                // instantiate NFT contract of listing\n                const nftResponse = await fetch(`https://api-rinkeby.etherscan.io/api?module=contract&action=getabi&address=${i.nft}&apikey=DCV4PCHFIVVYWR83CS48C4J45C9IH8SV93`)\n                const nftMetadata = await nftResponse.json()\n                const nftAbi = nftMetadata.result\n                // Get provider from Metamask\n                const provider = new ethers.providers.Web3Provider(window.ethereum)\n                // Set signer\n                const signer = provider.getSigner()\n                const nft = new Contract(i.nft, nftAbi, signer)\n                // get uri url from nft contract\n                let uri = await nft.tokenURI(i.tokenId)\n                uri = uri.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n                // use uri to fetch the nft metadata stored on ipfs \n                const response = await fetch(uri)\n                const metadata = await response.json()\n                // format price and image \n                let currentPrice = i.currentPrice\n                currentPrice = (currentPrice / (10 ** 16)) / 100\n                let image = metadata.image\n                image = image.replace('ipfs://', 'https://ipfs.io/ipfs/')\n                // Get Listing time and convert\n                let convertedTime = moment.unix(i.closingTime)\n                convertedTime = convertedTime.toString()\n                // Convert AuctionState to Int\n                let auctionState = i.auctionState\n                auctionState = auctionState.toNumber()\n                // define listed item object\n                let listing = {\n                    price: currentPrice,\n                    listingId: i.listingId,\n                    name: metadata.name,\n                    description: metadata.description,\n                    image: image,\n                    auctionState: auctionState,\n                    time: convertedTime\n                }\n                bids.push(listing)\n            }\n        }\n        setLoading(false)\n        setBids(bids)\n    }\n    useEffect(() => {\n        loadBids()\n    }, [])\n    if (loading) return (\n        <main style={{ padding: \"1rem 0\" }}>\n            <h2>Loading...</h2>\n        </main>\n    )\n    return (\n        <div className=\"flex justify-center\">\n            {bids.length > 0 ?\n                <div className=\"px-5 container\">\n                    <h2>Your Bids</h2>\n                    <Row xs={1} md={2} lg={4} className=\"g-4 py-5\">\n                        {bids.map((listing, idx) => (\n                            <Col key={idx} className=\"overflow-hidden\">\n                                <Card>\n                                    <Card.Img variant=\"top\" src={listing.image} />\n                                    {Date.now() > listing.time ?\n                                        <Card.Footer>\n                                            <Card.Text>Current Price: {listing.price} wETH</Card.Text>\n                                            <Card.Text>Time Remaining: {moment(listing.time).fromNow()}</Card.Text>\n                                        </Card.Footer>\n                                        :\n                                        <Card.Footer>\n                                            <Card.Text>Final Price: {listing.price} wETH</Card.Text>\n                                            <Card.Text>You Won This Auction!</Card.Text>\n                                        </Card.Footer>\n                                    }\n                                </Card>\n                            </Col>\n                        ))}\n                    </Row>\n                </div>\n                : (\n                    <main style={{ padding: \"1rem 0\" }}>\n                        <h2>No Active Bids</h2>\n                    </main>\n                )}\n        </div>\n    );\n}\n","import {\n    BrowserRouter,\n    Routes,\n    Route\n} from \"react-router-dom\";\nimport Navigation from './components/Navbar';\nimport Home from './components/Home.js'\nimport Create from './components/Create.js'\nimport MyListedItems from './components/MyListedItems.js'\nimport MyPurchases from './components/MyPurchases.js'\nimport helperConfig from \"./helper-config.json\"\nimport networkMapping from \"./artifacts/deployments/map.json\"\nimport { useEthers, ChainId } from \"@usedapp/core\"\nimport { useState } from 'react'\nimport { ethers } from \"ethers\"\nimport { Spinner } from 'react-bootstrap'\nimport React from 'react'\nimport Marketplace from './artifacts/contracts/Marketplace.json'\nimport { constants, utils } from 'ethers'\n\nimport './App.css';\n\nfunction App() {\n    const [loading, setLoading] = useState(true)\n    const [account, setAccount] = useState(null)\n    const [marketplace, setMarketplace] = useState({})\n    // MetaMask Login/Connect\n    const web3Handler = async () => {\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        setAccount(accounts[0])\n        // Get provider from Metamask\n        const provider = new ethers.providers.Web3Provider(window.ethereum)\n        // Set signer\n        const signer = provider.getSigner()\n\n        window.ethereum.on('chainChanged', (chainId) => {\n            window.location.reload();\n        })\n\n        window.ethereum.on('accountsChanged', async function (accounts) {\n            setAccount(accounts[0])\n            await web3Handler()\n        })\n        loadContracts(signer, provider)\n    }\n    const loadContracts = async (signer, provider) => {\n        // Get Address and ABI of Marketplace\n        const chainId = provider.ChainId\n        const { abi } = Marketplace\n        const marketplaceAddress = networkMapping['4'][\"Marketplace\"][0]\n        const marketplaceInterface = new utils.Interface(abi)\n        // Get deployed copies of contracts\n        const marketplace = new ethers.Contract(marketplaceAddress, marketplaceInterface, signer)\n        setMarketplace(marketplace)\n        setLoading(false)\n    }\n\n    return (\n        <BrowserRouter>\n            <div className=\"App\">\n                <>\n                    <Navigation web3Handler={web3Handler} account={account} />\n                </>\n                <div>\n                    {loading ? (\n                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '80vh' }}>\n                            <Spinner animation=\"border\" style={{ display: 'flex' }} />\n                            <p className='mx-3 my-0'>Awaiting Metamask Connection...</p>\n                        </div>\n                    ) : (\n                        <Routes>\n                            <Route path=\"/\" element={\n                                <Home marketplace={marketplace} />\n                            } />\n                            <Route path=\"/create\" element={\n                                <Create marketplace={marketplace} />\n                            } />\n                            <Route path=\"/my-listed-items\" element={\n                                <MyListedItems marketplace={marketplace} account={account} />\n                            } />\n                            <Route path=\"/my-purchases\" element={\n                                <MyPurchases marketplace={marketplace} account={account} />\n                            } />\n                        </Routes>\n                    )}\n                </div>\n            </div>\n        </BrowserRouter>\n\n    );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { render } from \"react-dom\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootElement = document.getElementById(\"root\");\nrender(<App />, rootElement);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}